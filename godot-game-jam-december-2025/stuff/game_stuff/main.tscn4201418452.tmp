[gd_scene load_steps=12 format=3 uid="uid://joqju5gkcy0j"]

[ext_resource type="Script" uid="uid://ct4qw6sp5c36c" path="res://stuff/game_stuff/main.gd" id="1_0xm2m"]
[ext_resource type="PackedScene" uid="uid://ltwhxc6oap2c" path="res://stuff/game_stuff/systems/dialog/dialogue_drawer.tscn" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://qtxb7q4nkvo5" path="res://stuff/game_stuff/checks/active_check_animation.tscn" id="3_h2yge"]
[ext_resource type="PackedScene" uid="uid://ckyk7e3k3nyb6" path="res://stuff/game_stuff/scene/break_room.tscn" id="4_3l2cm"]
[ext_resource type="PackedScene" uid="uid://njfpmdjc3qex" path="res://stuff/game_stuff/inventory/inventory_ui.tscn" id="4_inventory"]
[ext_resource type="PackedScene" path="res://stuff/game_stuff/inventory/ui/expanded_inventory_ui.tscn" id="5_expanded"]
[ext_resource type="Script" uid="uid://cej20bjb2xtc4" path="res://stuff/game_stuff/inventory/inventory_variables_master_sheet.gd" id="6_debug_inv"]
[ext_resource type="Script" uid="uid://djj8eqayat207" path="res://stuff/game_stuff/energy/energy_variable_master_sheet.gd" id="7_debug_energy"]
[ext_resource type="PackedScene" path="res://stuff/game_stuff/energy/energy_ui.tscn" id="7_energy"]
[ext_resource type="PackedScene" uid="uid://dc3q0aepimx7t" path="res://stuff/game_stuff/scene/innterogation_room.tscn" id="9_c0q6h"]

[sub_resource type="Theme" id="Theme_h2yge"]
default_font_size = 32

[node name="main" type="Node3D" node_paths=PackedStringArray("break_room", "innterogation_room", "hud")]
script = ExtResource("1_0xm2m")
break_room = NodePath("break_room/break_room")
innterogation_room = NodePath("innterogation_room/innterogation_room")
hud = NodePath("HUD")

[node name="DebugInventory" type="Node" parent="."]
script = ExtResource("6_debug_inv")

[node name="DebugEnergy" type="Node" parent="."]
script = ExtResource("7_debug_energy")

[node name="break_room" parent="." instance=ExtResource("4_3l2cm")]

[node name="innterogation_room" parent="." instance=ExtResource("9_c0q6h")]
position = Vector2(-10, 0)

[node name="character" parent="innterogation_room/innterogation_room/bg" index="0" node_paths=PackedStringArray("characters")]
characters = {
"brair": NodePath("brair"),
"chell": NodePath("chell"),
"eleanor": NodePath("eleanor"),
"prudence": NodePath("prudence"),
"rachel": NodePath("rachel")
}
default_character = null

[node name="HUD" type="CanvasLayer" parent="."]

[node name="DialogueDrawer" parent="HUD" instance=ExtResource("1_ig7tw")]

[node name="DialogueList" type="MarginContainer" parent="HUD"]
anchors_preset = 9
anchor_bottom = 1.0
grow_vertical = 2
theme = SubResource("Theme_h2yge")
theme_override_constants/margin_left = 80
theme_override_constants/margin_top = 80

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/DialogueList"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_bottom = 10

[node name="Label" type="Label" parent="HUD/DialogueList/VBoxContainer/MarginContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Placeholder"

[node name="intro_dialogue" type="Button" parent="HUD/DialogueList/VBoxContainer"]
visible = false
layout_mode = 2
focus_mode = 0
text = "Intro"

[node name="passive_dialogue" type="Button" parent="HUD/DialogueList/VBoxContainer"]
visible = false
layout_mode = 2
focus_mode = 0
text = "Passive Check"

[node name="active_dialogue" type="Button" parent="HUD/DialogueList/VBoxContainer"]
visible = false
layout_mode = 2
focus_mode = 0
text = "Active Check"

[node name="test_dialogue_button" type="Button" parent="HUD/DialogueList/VBoxContainer"]
visible = false
layout_mode = 2
focus_mode = 0
text = "Test"

[node name="variables_dialogue_button" type="Button" parent="HUD/DialogueList/VBoxContainer"]
visible = false
layout_mode = 2
focus_mode = 0
text = "Variables"

[node name="game_demo" type="Button" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
focus_mode = 0
text = "Begin"

[node name="ActiveCheckAnimation" parent="HUD" instance=ExtResource("3_h2yge")]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -64.0
offset_top = -64.0
offset_right = 64.0
offset_bottom = 64.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="HUD"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0
size_flags_horizontal = 0
size_flags_vertical = 8
theme_override_constants/margin_left = 30
theme_override_constants/margin_top = 30
theme_override_constants/margin_right = 30
theme_override_constants/margin_bottom = 30

[node name="restart_scene_button" type="Button" parent="HUD/MarginContainer"]
custom_minimum_size = Vector2(400, 0)
layout_mode = 2
focus_mode = 0
theme_override_font_sizes/font_size = 48
text = "Restart scene"

[node name="EnergyUI" parent="HUD" instance=ExtResource("7_energy")]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -120.0
offset_top = 20.0
offset_right = 120.0
offset_bottom = 40.0
grow_horizontal = 2

[node name="InventoryUI" parent="HUD" instance=ExtResource("4_inventory")]

[node name="ExpandedInventoryUI" parent="HUD" instance=ExtResource("5_expanded")]
visible = false

[node name="InventoryButton" type="Button" parent="HUD"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -120.0
offset_top = 20.0
offset_right = -20.0
offset_bottom = 60.0
grow_horizontal = 0
text = "Inventory"

[connection signal="pressed" from="break_room/break_room/bg/exit_break_room" to="." method="_on_exit_break_room_pressed"]
[connection signal="active_check_ended" from="HUD/DialogueDrawer" to="." method="_on_dialogue_drawer_active_check_ended"]
[connection signal="active_check_started" from="HUD/DialogueDrawer" to="." method="_on_dialogue_drawer_active_check_started"]
[connection signal="dialogue_ended" from="HUD/DialogueDrawer" to="." method="_on_dialogue_drawer_dialogue_ended"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/intro_dialogue" to="." method="_on_intro_dialogue_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/passive_dialogue" to="." method="_on_passive_dialogue_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/active_dialogue" to="." method="_on_active_dialogue_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/test_dialogue_button" to="." method="_on_test_dialogue_button_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/variables_dialogue_button" to="." method="_on_variables_dialogue_button_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/game_demo" to="." method="_on_game_demo_pressed"]
[connection signal="pressed" from="HUD/MarginContainer/restart_scene_button" to="." method="_on_restart_scene_button_pressed"]

[editable path="break_room"]
[editable path="innterogation_room"]
[editable path="innterogation_room/innterogation_room/bg/character"]
