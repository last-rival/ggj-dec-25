[gd_scene load_steps=7 format=3 uid="uid://joqju5gkcy0j"]

[ext_resource type="Script" uid="uid://ct4qw6sp5c36c" path="res://stuff/game_stuff/main.gd" id="1_0xm2m"]
[ext_resource type="PackedScene" uid="uid://ltwhxc6oap2c" path="res://stuff/game_stuff/systems/dialog/dialogue_drawer.tscn" id="1_ig7tw"]
[ext_resource type="PackedScene" path="res://stuff/game_stuff/inventory/inventory_ui.tscn" id="4_inventory"]
[ext_resource type="PackedScene" path="res://stuff/game_stuff/inventory/ui/expanded_inventory_ui.tscn" id="5_expanded"]
[ext_resource type="PackedScene" uid="uid://qtxb7q4nkvo5" path="res://stuff/game_stuff/checks/active_check_animation.tscn" id="3_h2yge"]
[ext_resource type="Script" path="res://stuff/game_stuff/inventory/inventory_variables_master_sheet.gd" id="6_debug_inv"]
[ext_resource type="Script" path="res://stuff/game_stuff/energy/energy_variable_master_sheet.gd" id="7_debug_energy"]
[ext_resource type="PackedScene" path="res://stuff/game_stuff/energy/energy_ui.tscn" id="7_energy"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_h2yge"]
albedo_color = Color(0.145098, 0.133333, 0.121569, 1)

[sub_resource type="BoxMesh" id="BoxMesh_h2yge"]
material = SubResource("StandardMaterial3D_h2yge")
size = Vector3(20, 1, 20)


[sub_resource type="Theme" id="Theme_h2yge"]
default_font_size = 32

[node name="main" type="Node3D"]
script = ExtResource("1_0xm2m")

[node name="DebugInventory" type="Node" parent="."]
script = ExtResource("6_debug_inv")

[node name="DebugEnergy" type="Node" parent="."]
script = ExtResource("7_debug_energy")

[node name="scene" type="Node3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="scene"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.456362, 0)
mesh = SubResource("BoxMesh_h2yge")

[node name="Camera3D" type="Camera3D" parent="scene"]
transform = Transform3D(0.777695, -0.330231, 0.534919, 0, 0.850912, 0.525308, -0.628642, -0.40853, 0.66175, 3.40443, 3.56298, 6.86403)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="scene"]
transform = Transform3D(0.927184, -0.301712, 0.222035, 0, 0.592716, 0.805411, -0.374607, -0.746764, 0.549557, 7.6615, 8.07943, 9.69723)

[node name="HUD" type="CanvasLayer" parent="."]

[node name="DialogueDrawer" parent="HUD" instance=ExtResource("1_ig7tw")]
offset_left = -630.0

[node name="DialogueList" type="MarginContainer" parent="HUD"]
anchors_preset = 9
anchor_bottom = 1.0
grow_vertical = 2
theme = SubResource("Theme_h2yge")
theme_override_constants/margin_left = 80
theme_override_constants/margin_top = 80

[node name="VBoxContainer" type="VBoxContainer" parent="HUD/DialogueList"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_bottom = 10

[node name="Label" type="Label" parent="HUD/DialogueList/VBoxContainer/MarginContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Dialogues"

[node name="intro_dialogue" type="Button" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
focus_mode = 0
text = "Intro"

[node name="passive_dialogue" type="Button" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
focus_mode = 0
text = "Passive Check"

[node name="active_dialogue" type="Button" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
focus_mode = 0
text = "Active Check"

[node name="test_dialogue_button" type="Button" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
focus_mode = 0
text = "Test"

[node name="variables_dialogue_button" type="Button" parent="HUD/DialogueList/VBoxContainer"]
layout_mode = 2
focus_mode = 0
text = "Variables"

[node name="ActiveCheckAnimation" parent="HUD" instance=ExtResource("3_h2yge")]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -64.0
offset_top = -64.0
offset_right = 64.0
offset_bottom = 64.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="HUD"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0
size_flags_horizontal = 0
size_flags_vertical = 8
theme_override_constants/margin_left = 30
theme_override_constants/margin_top = 30
theme_override_constants/margin_right = 30
theme_override_constants/margin_bottom = 30


	[node name="EnergyUI" parent="HUD" instance=ExtResource("7_energy")]
	anchors_preset = 5
	anchor_left = 0.5
	anchor_right = 0.5
	offset_left = -120.0
	offset_top = 20.0
	offset_right = 120.0
	offset_bottom = 40.0
	grow_horizontal = 2

[node name="InventoryUI" parent="HUD" instance=ExtResource("4_inventory")]

[node name="ExpandedInventoryUI" parent="HUD" instance=ExtResource("5_expanded")]

visible = false


[node name="InventoryButton" type="Button" parent="HUD"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -120.0
offset_top = 20.0
offset_right = -20.0
offset_bottom = 60.0
grow_horizontal = 0
text = "Inventory"


[node name="restart_scene_button" type="Button" parent="HUD/MarginContainer"]
custom_minimum_size = Vector2(400, 0)
layout_mode = 2
focus_mode = 0
theme_override_font_sizes/font_size = 48
text = "Restart scene"

[connection signal="active_check_ended" from="HUD/DialogueDrawer" to="." method="_on_dialogue_drawer_active_check_ended"]
[connection signal="active_check_started" from="HUD/DialogueDrawer" to="." method="_on_dialogue_drawer_active_check_started"]
[connection signal="dialogue_ended" from="HUD/DialogueDrawer" to="." method="_on_dialogue_drawer_dialogue_ended"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/intro_dialogue" to="." method="_on_intro_dialogue_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/passive_dialogue" to="." method="_on_passive_dialogue_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/active_dialogue" to="." method="_on_active_dialogue_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/test_dialogue_button" to="." method="_on_test_dialogue_button_pressed"]
[connection signal="pressed" from="HUD/DialogueList/VBoxContainer/variables_dialogue_button" to="." method="_on_variables_dialogue_button_pressed"]
[connection signal="pressed" from="HUD/MarginContainer/restart_scene_button" to="." method="_on_restart_scene_button_pressed"]
